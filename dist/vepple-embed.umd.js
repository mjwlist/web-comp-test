(function(a){typeof define=="function"&&define.amd?define(a):a()})(function(){"use strict";function a(){}function D(t){return t&&typeof t=="object"&&typeof t.then=="function"}function C(t){return t()}function N(){return Object.create(null)}function _(t){t.forEach(C)}function S(t){return typeof t=="function"}function F(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function U(t){return Object.keys(t).length===0}function T(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function q(){return v(" ")}function G(){return v("")}function $(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function I(t){return Array.from(t.childNodes)}function J(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function K(t){const e={};for(const n of t)e[n.name]=n.value;return e}let y;function d(t){y=t}function Q(){if(!y)throw new Error("Function called outside component initialization");return y}const k=[],O=[],x=[],P=[],W=Promise.resolve();let M=!1;function X(){M||(M=!0,W.then(L))}function A(t){x.push(t)}const H=new Set;let E=0;function L(){const t=y;do{for(;E<k.length;){const e=k[E];E++,d(e),Y(e.$$)}for(d(null),k.length=0,E=0;O.length;)O.pop()();for(let e=0;e<x.length;e+=1){const n=x[e];H.has(n)||(H.add(n),n())}x.length=0}while(k.length);for(;P.length;)P.pop()();M=!1,H.clear(),d(t)}function Y(t){if(t.fragment!==null){t.update(),_(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(A)}}const j=new Set;let m;function Z(){m={r:0,c:[],p:m}}function tt(){m.r||_(m.c),m=m.p}function z(t,e){t&&t.i&&(j.delete(t),t.i(e))}function et(t,e,n,r){if(t&&t.o){if(j.has(t))return;j.add(t),m.c.push(()=>{j.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function nt(t,e){const n=e.token={};function r(c,s,f,i){if(e.token!==n)return;e.resolved=i;let l=e.ctx;f!==void 0&&(l=l.slice(),l[f]=i);const o=c&&(e.current=c)(l);let w=!1;e.block&&(e.blocks?e.blocks.forEach((u,g)=>{g!==s&&u&&(Z(),et(u,1,1,()=>{e.blocks[g]===u&&(e.blocks[g]=null)}),tt())}):e.block.d(1),o.c(),z(o,1),o.m(e.mount(),e.anchor),w=!0),e.block=o,e.blocks&&(e.blocks[s]=o),w&&L()}if(D(t)){const c=Q();if(t.then(s=>{d(c),r(e.then,1,e.value,s),d(null)},s=>{if(d(c),r(e.catch,2,e.error,s),d(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function rt(t,e,n){const r=e.slice(),{resolved:c}=t;t.current===t.then&&(r[t.value]=c),t.current===t.catch&&(r[t.error]=c),t.block.p(r,n)}function ct(t,e,n,r){const{fragment:c,on_mount:s,on_destroy:f,after_update:i}=t.$$;c&&c.m(e,n),r||A(()=>{const l=s.map(C).filter(S);f?f.push(...l):_(l),t.$$.on_mount=[]}),i.forEach(A)}function ot(t,e){const n=t.$$;n.fragment!==null&&(_(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(t,e){t.$$.dirty[0]===-1&&(k.push(t),X(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function st(t,e,n,r,c,s,f,i=[-1]){const l=y;d(t);const o=t.$$={fragment:null,ctx:null,props:s,update:a,not_equal:c,bound:N(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:N(),dirty:i,skip_bound:!1,root:e.target||l.$$.root};f&&f(o.root);let w=!1;if(o.ctx=n?n(t,e.props||{},(u,g,...V)=>{const B=V.length?V[0]:g;return o.ctx&&c(o.ctx[u],o.ctx[u]=B)&&(!o.skip_bound&&o.bound[u]&&o.bound[u](B),w&&lt(t,u)),g}):[],o.update(),w=!0,_(o.before_update),o.fragment=r?r(o.ctx):!1,e.target){if(e.hydrate){const u=I(e.target);o.fragment&&o.fragment.l(u),u.forEach(p)}else o.fragment&&o.fragment.c();e.intro&&z(t.$$.fragment),ct(t,e.target,e.anchor,e.customElement),L()}d(l)}let R;typeof HTMLElement=="function"&&(R=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(C).filter(S);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){_(this.$$.on_disconnect)}$destroy(){ot(this,1),this.$destroy=a}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const r=n.indexOf(e);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!U(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});function it(t){let e,n=t[1].message+"",r;return{c(){e=b("p"),r=v(n),J(e,"color","red")},m(c,s){h(c,e,s),T(e,r)},p:a,d(c){c&&p(e)}}}function ut(t){let e,n,r,c,s=t[0].ctaText+"",f;return{c(){e=b("div"),e.innerHTML='<iframe height="100%" width="100%" allowfullscreen="" style="border-style:none;" part="iframe" src="https://cdn.pannellum.org/2.5/pannellum.htm#panorama=https://staging-api.production.rvhosted.com/wp-content/uploads/2021/10/2110021-cffee-rev-1-a-1.jpeg&amp;preview=https://staging-api.production.rvhosted.com/wp-content/uploads/2021/10/2110021-cffee-rev-1-a-1-768x384.jpeg"></iframe>',n=q(),r=b("div"),c=b("a"),f=v(s),$(e,"class","wrap"),$(e,"part","wrap"),$(c,"part","link"),$(c,"href",t[0].ctaUrl),$(r,"part","content")},m(i,l){h(i,e,l),h(i,n,l),h(i,r,l),T(r,c),T(c,f)},p:a,d(i){i&&p(e),i&&p(n),i&&p(r)}}}function at(t){let e;return{c(){e=b("p"),e.textContent="...waiting"},m(n,r){h(n,e,r)},p:a,d(n){n&&p(e)}}}function ft(t){let e,n={ctx:t,current:null,token:null,hasCatch:!0,pending:at,then:ut,catch:it,value:0,error:1};return nt(t[0],n),{c(){e=G(),n.block.c(),this.c=a},m(r,c){h(r,e,c),n.block.m(r,n.anchor=c),n.mount=()=>e.parentNode,n.anchor=e},p(r,[c]){t=r,rt(n,t,c)},i:a,o:a,d(r){r&&p(e),n.block.d(r),n.token=null,n=null}}}async function dt(){const t=await fetch(" https://staging-api.production.rvhosted.com/wp-json/rv/v1/settings "),e=await t.json();if(t.ok)return e.ctas[0];throw new Error(e)}function ht(t){return[dt()]}class pt extends R{constructor(e){super();this.shadowRoot.innerHTML="<style>*,*:before,*:after{box-sizing:inherit}.wrap{position:relative;padding-bottom:56.25%;height:0;overflow:hidden}iframe{position:absolute;top:0;left:0;width:100%;height:100%}</style>",st(this,{target:this.shadowRoot,props:K(this.attributes),customElement:!0},ht,ft,F,{},null),e&&e.target&&h(e.target,this,e.anchor)}}customElements.define("vepple-embed",pt)});
